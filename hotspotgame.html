<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hotspot Game · youxistudio</title>
  <meta name="description" content="Hotspot Game - 热门小游戏图鉴。" />
  <style>
    :root {
      --bg-top: #02110a;
      --bg-bottom: #06281b;
      --card-bg: rgba(8, 32, 21, 0.8);
      --glow: rgba(67, 209, 153, 0.35);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, var(--bg-top), var(--bg-bottom));
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 16px;
      font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    main {
      width: 100%;
      max-width: 1200px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 18px;
    }

    .card {
      position: relative;
      overflow: hidden;
      border-radius: 18px;
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      display: block;
    }

    .card:focus-visible {
      outline: 3px solid rgba(67, 209, 153, 0.7);
      outline-offset: 4px;
    }

    .card:hover,
    .card:focus-visible {
      transform: translateY(-6px);
      box-shadow: 0 28px 60px rgba(0, 0, 0, 0.45);
    }

    .card img {
      width: 100%;
      aspect-ratio: 4 / 3;
      object-fit: cover;
      display: block;
      background: #0f172a;
      filter: saturate(1.05);
      transition: transform 0.35s ease;
    }

    .card:hover img,
    .card:focus-visible img {
      transform: scale(1.06);
    }

    .card-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: flex-end;
      padding: 18px;
      background: linear-gradient(0deg, rgba(0, 0, 0, 0.76), rgba(0, 0, 0, 0.15));
      color: #f8fafc;
      opacity: 0;
      transform: translateY(18px);
      transition: opacity 0.25s ease, transform 0.25s ease;
      pointer-events: none;
    }

    .card:hover .card-overlay,
    .card:focus-visible .card-overlay {
      opacity: 1;
      transform: translateY(0);
    }

    .overlay-content {
      width: 100%;
      background: linear-gradient(90deg, rgba(67, 209, 153, 0.8), rgba(67, 209, 153, 0.05));
      padding: 12px 16px;
      border-radius: 14px;
      box-shadow: 0 12px 30px var(--glow);
      backdrop-filter: blur(6px);
    }

    .overlay-content h3 {
      margin: 0;
      font-size: 16px;
      line-height: 1.35;
      font-weight: 700;
    }

    .overlay-content p {
      margin: 6px 0 0;
      font-size: 12px;
      opacity: 0.8;
    }

    @media (max-width: 600px) {
      body { padding: 24px 12px; }
      .grid { gap: 14px; }
      .overlay-content { padding: 10px 14px; }
      .overlay-content h3 { font-size: 14px; }
    }
  </style>
</head>
<body>
  <main>
    <div id="gameGrid" class="grid" aria-live="polite"></div>
  </main>

  <script src="/games-data.js"></script>
  <script>
    (function () {
      const placeholder = 'data:image/svg+xml;utf8,' + encodeURIComponent(
        '<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300">'
        + '<defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="#0f172a"/><stop offset="1" stop-color="#1e293b"/></linearGradient></defs>'
        + '<rect width="400" height="300" fill="url(#g)"/>'
        + '<text x="50%" y="52%" fill="#94a3b8" font-size="24" text-anchor="middle" font-family="system-ui">youxistudio</text>'
        + '</svg>'
      );

      const gridEl = document.getElementById('gameGrid');
      const rawGames = Array.isArray(window.gamesData) ? window.gamesData : [];
      const games = rawGames.map(game => ({
        ...game,
        thumbnail: game.thumbnail || placeholder,
        link: game.projectId ? `https://scratch.mit.edu/projects/${game.projectId}/` : (game.link || '#'),
        tags: Array.isArray(game.tags) ? game.tags : []
      }));

      const displayList = games.slice(0, 60);
      const frag = document.createDocumentFragment();

      displayList.forEach(game => {
        const card = document.createElement('a');
        card.className = 'card';
        card.href = game.link;
        card.target = '_blank';
        card.rel = 'noopener';
        card.setAttribute('aria-label', game.title || '小游戏');

        card.innerHTML = `
          <img src="${game.thumbnail}" alt="${game.title}" loading="lazy" />
          <div class="card-overlay">
            <div class="overlay-content">
              <h3>${game.title || '小游戏'}</h3>
              ${game.tags.length ? `<p>${game.tags.slice(0, 3).join(' · ')}</p>` : ''}
            </div>
          </div>
        `;

        frag.appendChild(card);
      });

      gridEl.appendChild(frag);
    })();
  </script>
</body>
</html>
