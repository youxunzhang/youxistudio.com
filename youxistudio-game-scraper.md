# YouxiStudio 游戏抓取工具说明

本文档介绍如何使用和自定义站点中的 Scratch 游戏抓取工具 (`scratch-scraper.html` 与 `scratch-scraper.js`) 来批量获取 Scratch Explore 列表里的游戏信息。

## 功能概览

- **一键抓取**：点击“重新抓取全部游戏”按钮后，系统会自动遍历 Scratch Explore 接口，持续分页请求直到没有新项目或达到上限。
- **实时反馈**：顶部状态文字会提示当前抓取进度、成功数量或错误信息，按钮也会在加载时进入禁用状态。
- **结果预览**：抓取结果以表格形式展示序号、项目标题、项目页链接、iframe 嵌入链接以及封面图片地址。
- **便捷复制**：每个链接旁都提供“复制”按钮，可一键复制 URL，iframe 列会复制完整 `<iframe>` 片段。

## 运行方式

1. **推荐**在本地开启一个静态服务器（例如 `npm install -g http-server` 后执行 `http-server`），然后在浏览器访问 `/scratch-scraper.html`。
2. 页面加载后会立即执行一次抓取，也可以随时点击按钮重新抓取最新数据。
3. 表格支持键盘滚动与复制按钮，便于快速整理到表格或 CMS。

## 数据来源与配额

- 前端脚本会请求 `https://api.scratch.mit.edu/explore/projects`，参数为 `limit=40`、`mode=trending`、`q=*`，并根据分页偏移量 `offset` 自动遍历。
- 最多抓取 `50` 页（约 2000 个项目）。若接口返回数量不足一整页则提前停止。
- 程序会使用 `id` 去重，确保同一项目只出现一次。

## 常见状态说明

- `正在自动抓取 Scratch 项目信息，请稍候…`：接口调用进行中。
- `已抓取 X 个项目，正在继续加载更多……`：每抓取一页都会更新数量。
- `抓取完成，共获得 X 个项目。`：全部流程结束。
- 出现网络错误或 Scratch API 异常时，会显示错误信息并保持现有结果。

## 自定义建议

- 调整常量 `PAGE_SIZE`、`MAX_PAGES` 或 `mode` 参数即可更改抓取规模与排序策略。
- 若需额外字段，可在 `renderProjects` 函数中补充新列并在 `appendLinkOrEmpty` 中定义展示逻辑。
- 复制逻辑已封装在 `copyToClipboard`，如需扩展（例如复制 JSON），可复用该函数。

## 可访问性细节

- 表格容器设置了 `role="region"` 与可聚焦属性，方便使用键盘浏览大数据集。
- 复制按钮会在成功或失败时显示不同的状态文本和样式，帮助用户辨识操作结果。

通过以上信息，即可快速部署并扩展 YouxiStudio 的 Scratch 游戏抓取页面，协助批量整理和发布热门 Scratch 游戏内容。
